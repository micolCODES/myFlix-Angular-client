<app-navbar></app-navbar>
<div class="movie-view" style="display: flex; flex-wrap: wrap;">
  <mat-card *ngFor="let movie of movies; let i = index" style="flex: 1 1 auto">
    <mat-card-header>
      <mat-card-title>{{ movie.Title }}</mat-card-title>
      <mat-card-subtitle>Directed by:
        <button mat-button (click)="
            openDirectorDialog(
              movie.director.name,
              movie.director.birth,
              movie.director.death
            )
          " color="primary">
          {{ movie.director.name }}
        </button>
      </mat-card-subtitle>
    </mat-card-header>
    <img src="{{ movie.imageURL }}" alt="{{ movie.title }}" width="300" height="400" />
    <mat-card-actions>
      <button mat-button (click)="openGenreDialog(movie.genre.name, movie.genre.description)" color="primary">
        Genre
      </button>

      <button mat-button (click)="openSynopsisDialog(movie.title, movie.synopsis)" color="primary">
        Synopsis
      </button>

      <!-- Render add to or remove from favorites button depending on isFav -->
      <button mat-button *ngIf="!isFav(movie._id)" (click)="addToFavoriteMovies(movie._id)" color="primary">
        <mat-icon>favorite_border</mat-icon>
      </button>
      <button mat-button *ngIf="isFav(movie._id)" (click)="removeFromFavoriteMovies(movie._id)" color="primary">
        <mat-icon>favorite</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>